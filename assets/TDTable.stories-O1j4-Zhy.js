import{j as t}from"./jsx-runtime-DEdD30eg.js";import{R as d,r as N}from"./index-RYns6xqu.js";import{a as w,f as S,m as k,b as n,c as i,u as v,g as T,d as C}from"./utils-iuSqxEsu.js";import{P as c}from"./index-rNTiGNI1.js";const u=({table:o,tableHeight:g,tableWidth:h,stickyHeader:x})=>{const b=d.useMemo(()=>{const s=o.getFlatHeaders(),e={};for(let r=0;r<s.length;r++){const l=s[r];e[`--header-${l.id}-size`]=l.getSize()+(l.column.getCanSort()?20:0),e[`--col-${l.column.id}-size`]=l.column.getSize()+(l.column.getCanSort()?20:0)}return e},[o.getState().columnSizingInfo,o.getState().columnSizing,o.getVisibleFlatColumns()]),{pageIndex:a,pageSize:f}=o.getState().pagination,m=o.getRowModel().rows,z=Math.max(0,f-m.length);return t.jsx("div",{children:t.jsx("div",{className:"overflow-auto w-full border-base-300 bg-base-300 resize",style:{height:g,width:h},children:t.jsxs("table",{className:"text-sm border-x-[1px] border-base-300 font-mono w-full ",style:{...b},children:[t.jsx("thead",{className:"bg-base-300 z-10"+(x?" sticky top-0":""),children:o.getHeaderGroups().map(s=>t.jsx("tr",{className:"flex border-b-[1px] border-base-300",children:s.headers.map(e=>t.jsxs("th",{onMouseDown:e.column.getToggleSortingHandler(),className:`flex items-center justify-between group hover:bg-base-content/10 relative text-left p-2 font-medium whitespace-nowrap text-ellipsis ${e.column.getCanSort()?"cursor-pointer":""}`,style:{...w(e.column),width:`calc(var(--header-${e.id}-size) * 1px)`},colSpan:e.colSpan,title:e.column.getCanSort()?e.column.getNextSortingOrder()==="asc"?"Sort ascending":e.column.getNextSortingOrder()==="desc"?"Sort descending":"Clear sort":void 0,children:[e.isPlaceholder?null:S(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&({asc:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4 -rotate-180 transition-all opacity-0 group-hover:opacity-100",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25 12 21m0 0-3.75-3.75M12 21V3"})}),desc:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4 rotate-180 transition-all opacity-0 group-hover:opacity-100",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75 12 3m0 0 3.75 3.75M12 3v18"})})}[e.column.getIsSorted()]??t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4 transition-all opacity-0 group-hover:opacity-100",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})})),e.column.id!=="actions"&&t.jsx("div",{onMouseDown:r=>{e.getResizeHandler()(r),r.stopPropagation()},onDoubleClick:()=>e.column.resetSize(),onTouchStart:e.getResizeHandler(),className:`bg-base-content absolute w-1 top-0 cursor-col-resize h-full select-none transition-opacity resizer ${o.options.columnResizeDirection} ${e.column.getIsResizing()?"isResizing":""} ${e.column.getIsLastColumn()?"overflow-x-hidden":""}`,style:{transform:o.options.columnResizeMode==="onEnd"&&e.column.getIsResizing()?`translateX(${(o.options.columnResizeDirection==="rtl"?-1:1)*(o.getState().columnSizingInfo.deltaOffset??0)}px)`:""}})]},e.id))},s.id))}),t.jsxs("tbody",{children:[m.map(s=>t.jsx("tr",{className:`flex h-[37px] border-b-[1px] border-base-300 bg-base-200 hover:bg-base-300 transition-all ${Object.keys(s.original).length===0?"skeleton rounded-none":""}`,children:s.getVisibleCells().map(e=>t.jsx("td",{style:{...w(e.column,!0),width:`calc(var(--col-${e.column.id}-size) * 1px)`},className:"text-ellipsis overflow-hidden transition-colors shadow-red-600"+(e.column.getIsResizing()?o.options.columnResizeDirection==="rtl"?"border-l-[1px] border-base-300":"border-r-[1px] border-base-300":"")+(e.column.id==="actions"?"":" p-2"),title:e.getValue(),children:S(e.column.columnDef.cell,e.getContext())},e.id))},s.id)),Array(z).fill(null).map((s,e)=>t.jsxs("tr",{className:"flex border-b-[1px] border-base-300 bg-base-200 h-[37px]",children:[o.getVisibleFlatColumns().map(r=>t.jsx("td",{className:" p-2 text-ellipsis overflow-hidden",style:{width:`calc(${r.getSize()} * 1px + ${r.getCanSort()?20:0}px)`}},`empty-cell-${r.id}-${e}`)),t.jsx("td",{className:"action h-9"})]},`empty-${e}`))]})]})})})};u.propTypes={table:c.shape({getHeaderGroups:c.func.isRequired,getRowModel:c.func.isRequired}).isRequired,tableHeight:c.string,tableWidth:c.string,stickyHeader:c.bool};u.__docgenInfo={description:"",methods:[],displayName:"TDTable",props:{table:{description:"The table instance from React Table",type:{name:"shape",value:{getHeaderGroups:{name:"func",description:"Get the header groups",required:!0},getRowModel:{name:"func",description:"Get the row model",required:!0}}},required:!0},tableHeight:{description:"Optional height of the table. If unset, it adapts to the content.",type:{name:"string"},required:!1},tableWidth:{description:"Optional width of the table. If unset, it adapts to the content.",type:{name:"string"},required:!1},stickyHeader:{description:"Whether to enable sticky headers for the table",type:{name:"bool"},required:!1}}};const L={title:"Example/TDTable",component:u,args:{stickyHeader:!1},parameters:{layout:"fullscreen",backgrounds:{disable:!0}},argTypes:{table:{description:"The table instance from React Table"},tableHeight:{control:"text",description:"Optional height of the table. If unset, it adapts to the content."},tableWidth:{control:"text",description:"Optional width of the table. If unset, it adapts to the content."},stickyHeader:{control:"boolean",description:"Whether to enable sticky headers for the table"}}},M={columnResizeMode:"onChange"},$=d.memo(({tableHeight:o,tableWidth:g,stickyHeader:h})=>{const[x,b]=d.useState([]),[a,f]=d.useState([{},{},{},{},{},{},{},{},{},{},{}]);N.useEffect(()=>{const s=setTimeout(()=>f(k(200)),2e3);return()=>clearTimeout(s)},[]);const m=d.useMemo(()=>[{accessorKey:"rowIndex",header:()=>t.jsx("span",{children:"Row Index"}),cell:s=>t.jsx("span",{className:"line-clamp-1 break-all",children:s.getValue()}),size:n(a,"rowIndex"),minSize:i("Row Index")},{accessorKey:"firstName",header:()=>t.jsx("span",{children:"First Name"}),cell:s=>t.jsx("span",{className:"line-clamp-1 break-all",children:s.getValue()}),size:n(a,"firstName"),minSize:i("First Name")},{accessorFn:s=>s.lastName,id:"lastName",cell:s=>t.jsx("span",{className:"line-clamp-1 break-all",children:t.jsx("i",{children:s.getValue()})}),header:()=>t.jsx("span",{children:"Last Name"}),size:n(a,"lastName"),minSize:i("Last Name")},{accessorKey:"status",header:"Status",cell:s=>t.jsx("span",{className:"line-clamp-1 break-all",children:s.getValue()}),size:n(a,"status"),minSize:i("Status")},{accessorKey:"joined",header:"Joined",cell:s=>t.jsx("span",{className:"line-clamp-1 break-all",children:s.getValue()}),size:n(a,"joined"),minSize:i("Joined")},{accessorKey:"role",header:"Role",cell:s=>t.jsx("span",{className:"line-clamp-1 break-all",children:s.getValue()}),size:n(a,"role"),minSize:i("Role")},{accessorKey:"password",header:"Password",cell:s=>{var e;return t.jsx("span",{className:"line-clamp-1 break-all",children:"â€¢".repeat((e=s.getValue())==null?void 0:e.length)})},size:n(a,"password"),minSize:i("Password")},{accessorKey:"passwordStrength",header:"Password Strength",size:n(a,"passwordStrength"),minSize:i("Password Strength")},{accessorKey:"age",header:()=>"Age",cell:s=>s.renderValue(),size:n(a,"age"),minSize:i("Age")},{accessorKey:"visits",header:()=>t.jsx("span",{children:"Visits"}),size:n(a,"visits"),minSize:i("Visits")},...Array(7).fill(0).map((s,e)=>({accessorKey:`person${e+1}`,header:`Person ${e+1}`,cell:r=>t.jsx("span",{className:"line-clamp-1 break-all",children:r.getValue()}),size:n(a,`person${e+1}`),minSize:i(`Person ${e+1}`)}))],[a]),z=v({data:a,columns:m,columnResizeMode:M.columnResizeMode,state:{sorting:x},onSortingChange:b,getCoreRowModel:T(),getSortedRowModel:C()});return t.jsx(t.Fragment,{children:t.jsx(u,{table:z,tableHeight:o,tableWidth:g,stickyHeader:h})})}),p={render:o=>t.jsx($,{...o})};var y,j,R;p.parameters={...p.parameters,docs:{...(y=p.parameters)==null?void 0:y.docs,source:{originalSource:`{
  render: args => <BaseTemplate {...args} />
}`,...(R=(j=p.parameters)==null?void 0:j.docs)==null?void 0:R.source}}};const P=["Basic"];export{p as Basic,P as __namedExportsOrder,L as default};
