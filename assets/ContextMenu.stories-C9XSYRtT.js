import{j as r}from"./jsx-runtime-DEdD30eg.js";import{r as h,R as O}from"./index-RYns6xqu.js";import{v as C}from"./v4-CQkTLCs1.js";import{P as E}from"./index-rNTiGNI1.js";const{addons:I}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:D}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:R}=__STORYBOOK_MODULE_GLOBAL__;var S="storybook/actions",T=`${S}/action-event`,M={depth:10,clearOnStoryChange:!0,limit:50},w=(e,t)=>{let n=Object.getPrototypeOf(e);return!n||t(n)?n:w(n,t)},P=e=>!!(typeof e=="object"&&e&&w(e,t=>/^Synthetic(?:Base)?Event$/.test(t.constructor.name))&&typeof e.persist=="function"),N=e=>{if(P(e)){let t=Object.create(e.constructor.prototype,Object.getOwnPropertyDescriptors(e));t.persist();let n=Object.getOwnPropertyDescriptor(t,"view"),s=n==null?void 0:n.value;return typeof s=="object"&&(s==null?void 0:s.constructor.name)==="Window"&&Object.defineProperty(t,"view",{...n,value:Object.create(s.constructor.prototype)}),t}return e},A=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?C():Date.now().toString(36)+Math.random().toString(36).substring(2);function g(e,t={}){let n={...M,...t},s=function(...o){var _,f;if(t.implicit){let y=(_="__STORYBOOK_PREVIEW__"in R?R.__STORYBOOK_PREVIEW__:void 0)==null?void 0:_.storyRenders.find(l=>l.phase==="playing"||l.phase==="rendering");if(y){let l=!((f=window==null?void 0:window.FEATURES)!=null&&f.disallowImplicitActionsInRenderV8),x=new D({phase:y.phase,name:e,deprecated:l});if(l)console.warn(x);else throw x}}let u=I.getChannel(),c=A(),m=5,a=o.map(N),i=o.length>1?a:a[0],k={id:c,count:0,data:{name:e,args:i},options:{...n,maxDepth:m+(n.depth||3),allowFunction:n.allowFunction||!1}};u.emit(T,k)};return s.isAction=!0,s.implicit=t.implicit,s}const p=({children:e,menu:t})=>{const[n,s]=h.useState(!1),[o,u]=h.useState({x:0,y:0}),c=h.useRef(null),m=i=>{i.preventDefault(),u({x:i.clientX,y:i.clientY}),s(!0)},a=i=>{c.current&&!c.current.contains(i.target)&&s(!1)};return O.useEffect(()=>(document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}),[]),r.jsxs("div",{onContextMenu:m,className:"relative inline-block",children:[e,n&&r.jsx("div",{ref:c,className:"absolute z-50 bg-base-300 shadow-lg",style:{top:`${o.y}px`,left:`${o.x}px`},children:O.cloneElement(t,{closeMenu:()=>s(!1)})})]})};p.propTypes={children:E.node.isRequired,menu:E.element.isRequired};p.__docgenInfo={description:"ContextMenu component that wraps any div and displays a right-click menu.",methods:[],displayName:"ContextMenu",props:{children:{description:"",type:{name:"node"},required:!0},menu:{description:"",type:{name:"element"},required:!0}}};const q={title:"Example/ContextMenu",component:p,args:{stickyHeader:!1},parameters:{layout:"fullscreen",backgrounds:{disable:!0}},argTypes:{menu:{description:"The menu component to be displayed on right-click"},children:{description:"The content wrapped by ContextMenu that triggers the menu on right-click"}}},B=()=>r.jsxs("ul",{className:"menu bg-base-200 w-56 p-0 [&_li>*]:rounded-none",children:[r.jsx("li",{onClick:g("Item 1 clicked"),children:r.jsx("a",{children:"Item 1"})}),r.jsx("li",{onClick:g("Item 2 clicked"),children:r.jsx("a",{children:"Item 2"})}),r.jsx("li",{onClick:g("Item 3 clicked"),children:r.jsx("a",{children:"Item 3"})})]}),V=({children:e,menu:t})=>r.jsx(p,{menu:t,children:e}),d={render:e=>r.jsx(V,{...e}),args:{menu:r.jsx(B,{}),children:r.jsx("div",{className:"p-4 h-80 w-80 bg-base-300 rounded",children:r.jsx("span",{className:" text-xs",children:"right click anywhere in this div"})})}};var b,j,v;d.parameters={...d.parameters,docs:{...(b=d.parameters)==null?void 0:b.docs,source:{originalSource:`{
  render: args => <BaseTemplate {...args} />,
  args: {
    menu: <CustomMenu />,
    children: <div className="p-4 h-80 w-80 bg-base-300 rounded">\r
        <span className=" text-xs">right click anywhere in this div</span>\r
      </div>
  }
}`,...(v=(j=d.parameters)==null?void 0:j.docs)==null?void 0:v.source}}};const z=["Default"];export{d as Default,z as __namedExportsOrder,q as default};
