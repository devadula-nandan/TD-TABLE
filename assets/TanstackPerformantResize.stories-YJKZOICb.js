import{j as s}from"./jsx-runtime-DEdD30eg.js";import{R as c}from"./index-RYns6xqu.js";import{m as h,u as S,f as R,g as j}from"./utils-iuSqxEsu.js";const C={title:"Example/TanstackPerformantResize",component:f};function f(){const i=[{accessorKey:"firstName",cell:e=>e.getValue(),footer:e=>e.column.id},{accessorFn:e=>e.lastName,id:"lastName",cell:e=>e.getValue(),header:()=>s.jsx("span",{children:"Last Name"}),footer:e=>e.column.id},{accessorKey:"age",header:()=>"Age",footer:e=>e.column.id},{accessorKey:"visits",header:()=>s.jsx("span",{children:"Visits"}),footer:e=>e.column.id},{accessorKey:"status",header:"Status",footer:e=>e.column.id},{accessorKey:"progress",header:"Profile Progress",footer:e=>e.column.id}],[o,n]=c.useState(()=>h(200)),[p]=c.useState(()=>[...i]),a=S({data:o,columns:p,defaultColumn:{minSize:60,maxSize:800},columnResizeMode:"onChange",getCoreRowModel:j()}),x=c.useMemo(()=>{const e=a.getFlatHeaders(),t={};for(let d=0;d<e.length;d++){const l=e[d];t[`--header-${l.id}-size`]=l.getSize(),t[`--col-${l.column.id}-size`]=l.column.getSize()}return t},[a.getState().columnSizingInfo,a.getState().columnSizing]);return s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{style:{...x,width:a.getTotalSize()},className:"divTable",children:[s.jsx("thead",{className:"thead",children:a.getHeaderGroups().map(e=>s.jsx("tr",{className:"tr",children:e.headers.map(t=>s.jsxs("th",{className:"th",style:{width:`calc(var(--header-${t.id}-size) * 1px)`},children:[t.isPlaceholder?null:R(t.column.columnDef.header,t.getContext()),s.jsx("div",{onDoubleClick:()=>t.column.resetSize(),onMouseDown:t.getResizeHandler(),onTouchStart:t.getResizeHandler(),className:`resizer ${t.column.getIsResizing()?"isResizing":""}`})]},t.id))},e.id))}),a.getState().columnSizingInfo.isResizingColumn?s.jsx(b,{table:a}):s.jsx(z,{table:a})]})})}function z({table:i}){return s.jsx("tbody",{className:"tbody",children:i.getRowModel().rows.map(o=>s.jsx("tr",{className:"tr",children:o.getVisibleCells().map(n=>s.jsx("td",{className:"td",style:{width:`calc(var(--col-${n.column.id}-size) * 1px)`},children:n.renderValue()},n.id))},o.id))})}const b=c.memo(z,(i,o)=>i.table.options.data===o.table.options.data),r=()=>s.jsx(f,{});r.__docgenInfo={description:"",methods:[],displayName:"Basic"};var m,u,g;r.parameters={...r.parameters,docs:{...(m=r.parameters)==null?void 0:m.docs,source:{originalSource:"() => <PerformantResizeTable />",...(g=(u=r.parameters)==null?void 0:u.docs)==null?void 0:g.source}}};const w=["Basic"];export{r as Basic,w as __namedExportsOrder,C as default};
